{"version":3,"sources":["styles/globals.js","components/Header/styles.js","components/Header/index.js","components/Board/styles.js","components/Board/context.js","components/List/styles.js","components/Card/styles.js","components/Card/index.js","components/List/index.js","components/Board/index.js","services/api.js","App.js","index.js"],"names":["createGlobalStyle","Container","styled","div","Header","createContext","props","done","isDragging","css","Label","color","Card","data","index","listIndex","ref","useRef","move","useContext","BoardContext","useDrag","item","type","collect","monitor","dragRef","useDrop","accept","hover","draggedListIndex","targetListIndex","draggedIndex","targetIndex","targetSize","current","getBoundingClientRect","targetCenter","bottom","top","draggedTop","getClientOffset","y","dropRef","labels","map","label","content","user","src","alt","List","console","log","cards","length","title","creatable","size","card","id","Board","useState","lists","setLists","Provider","value","fromList","toList","from","to","produce","draft","dragged","splice","list","App","DndProvider","backend","HTML5Backend","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1bc81eae.chunk.js","sourcesContent":["import {createGlobalStyle} from \"styled-components\";\n\nexport default createGlobalStyle`\n  @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;500&display=swap');    \n  \n  *{\n    margin: 0;\n    padding: 0;\n    outline: 0;\n    box-sizing: border-box;\n  }\n\n  :root{\n    --rocketseat:#7159c1;\n    --background:#ecf1f0;\n    --text-color:#333;\n  }\n  \n  html, body, #root{\n      height: 100%;\n  }\n  \n  body {\n    font: 14px 'Roboto', sans-serif;\n    background: var(--background);\n    color: var(--text-color);\n    -webkit-font-smoothing: antialiased!important;\n  }\n  \n  ul{\n    list-style: none;\n  }\n`","import styled from \"styled-components\";\n\nexport const Container = styled.div`\n    height: 80px;\n    padding: 0 30px;\n    background: var(--rocketseat);\n    color: white;\n  \n    display: flex;\n    align-items: center;\n`\n","import React from 'react';\nimport {Container} from \"./styles\";\n\n\nexport default function Header(){\n    return(\n        <Container>\n            <h1>Gabrielfy</h1>\n        </Container>\n    )\n}","import styled from \"styled-components\";\n\nexport const Container = styled.div`\n    display: flex;\n    padding: 30px 0;\n    height: calc(100% - 80px);\n`\n","import {createContext} from \"react\";\nexport default createContext({});","import styled from \"styled-components\";\n\nexport const Container = styled.div`\n    padding: 0 15px;\n    height: 100%;\n    flex: 0 0 320;\n    opacity: ${props=>props.done?0.6:1};\n  \n    & + div {\n        border-left: 1px solid rgba(0,0,0,0.5);\n    }\n  \n    header{\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        height: 42px;\n        h2{\n            font-weight: 500;\n            font-size: 16px;\n            padding:0 10px;\n        }\n      \n        button{\n            width: 42px;\n            height: 42px;\n            border-radius: 18px;\n            background: #3b5bfd;\n            border:0;\n            cursor: pointer;\n        }\n    }\n  \n    ul{\n        margin-top: 30px;\n    }\n`\n","import styled,{css} from \"styled-components\";\n\nexport const Container = styled.div`\n  position: relative;\n  background: white;\n  border-radius: 5px;\n  margin-bottom: 10px;\n  padding: 15px;\n  box-shadow: 0 1px 4px 0 rgba(192,208,230,0.8);\n  border-top: 20px solid rgba(230,236,245,0.4);\n  cursor: grab;\n  \n  \n  header{\n      position: absolute;\n      top:-22px;\n      left:15px;\n  }\n  \n  p{\n    font-weight: 500;\n  }\n  \n  img {\n      width: 24px;\n      height: 24px;\n      border-radius: 2px;\n      margin-top: 5px;\n    }\n  \n  ${props=>props.isDragging && css`\n          border:2px dashed rgba(0,0,0,0.3);\n          padding-top: 31px;\n          border-radius: 0;\n          background: transparent;\n          box-shadow: none;\n          cursor: grabbing;\n          \n          p,img,header{\n            opacity: 0;\n          }\n  `}\n`\n\nexport const Label = styled.div`\n    width: 10px;\n    height: 10px;\n    border-radius: 2px;\n    display: inline-block;\n    background:${props=>props.color};\n`\n","import React,{useRef, useContext} from 'react';\n\nimport BoardContext from '../Board/context'\n\nimport {Container, Label} from \"./styles\";\nimport { useDrag, useDrop } from 'react-dnd';\n\n\nexport default function Card({data,index,listIndex}){\n\n    const ref = useRef(null);\n\n\n    const { move } = useContext(BoardContext);\n\n    const [{isDragging}, dragRef] = useDrag({\n        item:{\n            type:'CARD',\n            index,\n            listIndex\n        },\n        collect:monitor => ({\n            isDragging:monitor.isDragging()\n        }),\n    })\n\n    const [,dropRef] = useDrop({\n        accept: 'CARD',\n        hover(item,monitor){\n            const draggedListIndex = item.listIndex;\n            const targetListIndex = listIndex;\n\n            const draggedIndex = item.index;\n            const  targetIndex = index;\n            if(draggedIndex===targetIndex && targetListIndex===draggedListIndex){\n                return;\n            }\n\n            const targetSize = ref.current.getBoundingClientRect();\n            const targetCenter = (targetSize.bottom - targetSize.top) /2;\n            const draggedOffset = monitor.getClientOffset() ;\n            const draggedTop = (draggedOffset.y -targetSize.top) ;\n\n            if(draggedIndex<targetIndex && draggedTop<targetCenter){\n                return;\n            }\n            if(draggedIndex>targetIndex && draggedTop>targetCenter){\n                return;\n            }\n\n\n            move(draggedListIndex,targetListIndex, draggedIndex, targetIndex);\n\n            item.index = targetIndex;\n            item.listIndex = targetListIndex;\n        }\n    })\n\n    dragRef(dropRef(ref));\n\n    return(\n        <Container ref={ref} isDragging={isDragging}>\n            <header>\n                {data.labels.map((label,index)=><Label key={index} color={label} />)}\n            </header>\n            <p>{data.content}</p>\n            {data.user && <img src={data.user} alt=\"avatar\"/>}\n        </Container>\n    )\n}","import React, {useContext} from 'react';\nimport {Container} from \"./styles\";\n\nimport { MdAdd } from 'react-icons/md'\n\nimport Card from '../Card'\nimport {useDrop} from \"react-dnd\";\nimport BoardContext from \"../Board/context\";\n\n\nexport default function List({data, index:listIndex}){\n\n    const { move } = useContext(BoardContext);\n\n    //extra foi realizar o mover para o fim da lista caso a lista esteja  vazia\n    const [,dropRef] = useDrop({\n        accept: 'CARD',\n        hover(item,monitor){\n            console.log(item);\n            const draggedListIndex = item.listIndex;\n            const targetListIndex = listIndex;\n\n            const draggedIndex = item.index;\n            const  targetIndex = data.cards.length>0?data.cards.length-1:0;\n\n            if(targetListIndex===draggedListIndex){\n                return;\n            }\n\n            move(draggedListIndex,targetListIndex, draggedIndex, targetIndex);\n\n            item.index = targetIndex;\n            item.listIndex = targetListIndex;\n        }\n    })\n\n    return(\n        <Container done={data.done} ref={dropRef}>\n            <header>\n                <h2>{data.title}</h2>\n                {data.creatable &&\n                    <button type=\"button\">\n                        <MdAdd size={24} color=\"#fff\"/>\n                    </button>\n                }\n            </header>\n            <ul>\n                {data.cards.map((card,index)=>\n                    <Card\n                        key={index}\n                        index={index}\n                        data={card}\n                        listIndex={listIndex}\n                    />\n                )}\n            </ul>\n        </Container>\n    )\n}","import React,{useState} from 'react';\nimport {Container} from \"./styles\";\n\nimport produce from 'immer';\n\nimport BoardContext from './context';\n\nimport List from \"../List\";\n\nimport {loadLists} from \"../../services/api\";\n\nconst data = loadLists();\n\nexport default function Board(){\n\n    const [lists,setLists] = useState(data);\n\n    function move(fromList,toList, from,to){\n\n        setLists(produce(lists,draft=>{\n            const dragged = draft[fromList].cards[from];\n\n            draft[fromList].cards.splice(from,1);\n            draft[toList].cards.splice(to,0,dragged);\n\n        }));\n    }\n\n    return(\n        <BoardContext.Provider value={{lists,move}}>\n            <Container>\n                {lists.map((list, index) => <List key={index} index={index} data={list}/>)}\n            </Container>\n        </BoardContext.Provider>\n    )\n}","export function loadLists() {\n    return [\n        {\n            title: 'Tarefas',\n            creatable: true,\n            cards: [\n                {\n                    id: 1,\n                    content: 'Estudar módulo 01 de NodeJS',\n                    labels: ['#7159c1'],\n                    user: 'https://rocketseat-cdn.s3-sa-east-1.amazonaws.com/profile.png'\n                },\n                {\n                    id: 2,\n                    content: 'Criar vídeo para o Youtube ensinando a recriar a interface do Pipefy',\n                    labels: ['#7159c1'],\n                    user: 'https://rocketseat-cdn.s3-sa-east-1.amazonaws.com/profile.png'\n                },\n                {\n                    id: 3,\n                    content: 'Estudar módulo 03 de React Native',\n                    labels: ['#7159c1'],\n                    user: 'https://rocketseat-cdn.s3-sa-east-1.amazonaws.com/profile.png'\n                },\n                {\n                    id: 4,\n                    content: 'Gravar Aula \"NextJS: Utilizando server-side rendering com ReactJS\"',\n                    labels: ['#54e1f7'],\n                    user: 'https://rocketseat-cdn.s3-sa-east-1.amazonaws.com/profile.png'\n                },\n                {\n                    id: 5,\n                    content: 'Gravar testes e deploy ReactJS',\n                    labels: ['#54e1f7'],\n                    user: 'https://rocketseat-cdn.s3-sa-east-1.amazonaws.com/profile.png'\n                },\n            ]\n        },\n        {\n            title: 'Fazendo',\n            creatable: false,\n            cards: [\n                {\n                    id: 6,\n                    content: 'Recriando clone do Pipefy',\n                    labels: [],\n                    user: 'https://rocketseat-cdn.s3-sa-east-1.amazonaws.com/profile.png'\n                }\n            ]\n        },\n        {\n            title: 'Pausado',\n            creatable: false,\n            cards: [\n                {\n                    id: 7,\n                    content: 'Gravar sobre Geolocalização e mapas com React Native',\n                    labels: ['#7159c1'],\n                    user: 'https://rocketseat-cdn.s3-sa-east-1.amazonaws.com/profile.png'\n                },\n                {\n                    id: 8,\n                    content: 'Gravar testes e deploy ReactJS',\n                    labels: ['#54e1f7'],\n                    user: 'https://rocketseat-cdn.s3-sa-east-1.amazonaws.com/profile.png'\n                },\n                {\n                    id: 9,\n                    content: 'Ajustes na biblioteca unform',\n                    labels: [],\n                }\n            ]\n        },\n        {\n            title: 'Concluído',\n            creatable: false,\n            done: true,\n            cards: [\n                {\n                    id: 10,\n                    content: 'Gravar aula sobre deploy e CI com React Native',\n                    labels: [],\n                },\n                {\n                    id: 12,\n                    content: 'Gravar testes e deploy ReactJS',\n                    labels: ['#54e1f7'],\n                },\n                {\n                    id: 13,\n                    content: 'Gravar Aula \"Internacionalização de aplicações Node.js, ReactJS e React Native\"',\n                    labels: ['#7159c1'],\n                }\n            ]\n        },\n    ];\n}","import GlobalStyles from '../src/styles/globals'\nimport Header from './components/Header'\nimport Board from \"./components/Board\";\nimport {DndProvider} from 'react-dnd';\nimport {HTML5Backend} from 'react-dnd-html5-backend'\n\nfunction App() {\n  return (\n    <>\n        <DndProvider backend={HTML5Backend}>\n            <Header />\n            <Board />\n            <GlobalStyles />\n        </DndProvider>\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}